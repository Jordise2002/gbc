use core::panic;

use enumn::N;

#[allow(non_camel_case_types)]
#[derive(Debug, Clone, PartialEq)]
pub enum Operand 
{
    N8,
    N16,
    E8,
    A8,
    A16,
    A,
    B,
    C,
    D,
    E,
    H,
    L,
    AF, 
    SP,
    SP_PLUS_E8,
    PC,
    BC,
    DE,
    HL,
    iC,
    iBC,
    iDE,
    iHL,
    iHLPLUS,
    iHLMINUS
}

impl Operand
{
    pub fn get_operand_size(&self) -> usize
    {
        match self 
        {
            Operand::N8 => 1,
            Operand::N16 => 2,
            Operand::E8 => 1,
            Operand::A8 => 1,
            Operand::A16 => 1,
            Operand::A => 1,
            Operand::B => 1,
            Operand::C => 1,
            Operand::D => 1,
            Operand::E => 1,
            Operand::H => 1,
            Operand::L => 1,
            Operand::AF => 2,
            Operand::SP => 2,
            Operand::SP_PLUS_E8 => 2,
            Operand::PC => 2,
            Operand::BC => 2,
            Operand::DE => 2,
            Operand::HL => 2,
            Operand::iC => 1,
            Operand::iBC => 1,
            Operand::iDE => 1,
            Operand::iHL => 1,
            Operand::iHLPLUS => 1,
            Operand::iHLMINUS => 1
        }
    }
}
#[allow(non_camel_case_types)]
pub enum Instruction 
{
    ADD(Operand, Operand),
    LD(Operand, Operand),
    DEC(Operand),
    INC(Operand),
    AND(Operand, Operand),
    ADC(Operand, Operand),
    SUB(Operand, Operand),
    NOP,
    STOP(Operand),
    SBC(Operand, Operand),
    XOR(Operand, Operand),
    OR(Operand, Operand),
    CP(Operand, Operand),
    POP(Operand),
    PUSH(Operand),
    RLCA,
    RRCA,
    RLA,
    JR(Operand),
    JR_ZERO(bool, Operand),//true means jump when zero flag is set
    JR_CARRY(bool, Operand),//true means jump when carry flag is set
    RET,
    RET_ZERO(bool),//true means jump when zero flag is set
    RET_CARRY(bool),//true means jump when carry flag is set
    RETI,
    CALL(Operand),
    CALL_ZERO(bool, Operand),
    CALL_CARRY(bool, Operand),
    RST(u8),
    PREFIX,
    RRA,
    DAA,
    CPL,
    SCF,
    CCF,
    HALT,
    DI,
    EI
}

#[derive(N, Clone, PartialEq, Debug)]
#[repr(u8)]
#[allow(non_camel_case_types)]
pub enum Opcode
{
    NOP=0o00,
    LD_BC_N16=0o01,
    LD_iBC_A=0o02,
    INC_BC=0o03,
    INC_B=0o04,
    DEC_B=0o05,
    LD_B_N8=0o06,
    RLCA=0o07,
    LD_iA16_SP=0o10,
    ADD_HL_BC=0o11,
    LD_A_iBC=0o12,
    DEC_BC=0o13,
    INC_C=0o14,
    DEC_C=0o15,
    LD_C_N8=0o16,
    RRCA=0o17,
    STOP_N8=0o20,
    LD_DE_N16=0o21,
    LD_iDE_A=0o22,
    INC_DE=0o23,
    INC_D=0o24,
    DEC_D=0o25,
    LD_D_N8=0o26,
    RLA=0o27,
    JR_E8=0o30,
    ADD_HL_DE=0o31,
    LD_A_iDE=0o32,
    DEC_DE=0o33,
    INC_E=0o34,
    DEC_E=0o35,
    LD_E_N8=0o36,
    RRA=0o37,
    JR_NZ_E8=0o40,
    LD_HL_N16=0o41,
    LD_iHLPLUS_A=0o42,
    INC_HL=0o43,
    INC_H=0o44,
    DEC_H=0o45,
    LD_H_N8=0o46,
    DAA=0o47,
    JR_Z_E8=0o50,
    ADD_HL_HL=0o51,
    LD_A_iHLPLUS=0o52,
    DEC_HL=0o53,
    INC_L=0o54,
    DEC_L=0o55,
    LD_L_N8=0o56,
    CPL=0o57,
    JR_NC_E8=0o60,
    LD_SP_N16=0o61,
    LD_iHLMINUS_A=0o62,
    INC_SP=0o63,
    INC_iHL=0o64,
    DEC_iHL=0o65,
    LD_iHL_N8=0o66,
    SCF=0o67,
    JR_C_E8=0o70,
    ADD_HL_SP=0o71,
    LD_A_iHLMINUS=0o72,
    DEC_SP=0o73,
    INC_A=0o74,
    DEC_A=0o75,
    LD_A_N8=0o76,
    CCF=0o77,
    LD_B_B=0o100,
    LD_B_C=0o101,
    LD_B_D=0o102,
    LD_B_E=0o103,
    LD_B_H=0o104,
    LD_B_L=0o105,
    LD_B_iHL=0o106,
    LD_B_A=0o107,
    LD_C_B=0o110,
    LD_C_C=0o111,
    LD_C_D=0o112,
    LD_C_E=0o113,
    LD_C_H=0o114,
    LC_C_L=0o115,
    LD_C_iHL=0o116,
    LD_C_A=0o117,
    LD_D_B=0o120,
    LD_D_C=0o121,
    LD_D_D=0o122,
    LD_D_E=0o123,
    LD_D_H=0o124,
    LD_D_L=0o125,
    LD_D_iHL=0o126,
    LD_D_A=0o127,
    LD_E_B=0o130,
    LD_E_C=0o131,
    LD_E_D=0o132,
    LD_E_E=0o133,
    LD_E_H=0o134,
    LD_E_L=0o135,
    LD_E_iHL=0o136,
    LD_E_A=0o137,
    LD_H_B=0o140,
    LD_H_C=0o141,
    LD_H_D=0o142,
    LD_H_E=0o143,
    LD_H_H=0o144,
    LD_H_L=0o145,
    LD_H_iHL=0o146,
    LD_H_A=0o147,
    LD_L_B=0o150,
    LD_L_C=0o151,
    LD_L_D=0o152,
    LD_L_E=0o153,
    LD_L_H=0o154,
    LD_L_L=0o155,
    LD_L_iHL=0o156,
    LD_L_A=0o157,
    LD_iHL_B=0o160,
    LD_iHL_C=0o161,
    LD_iHL_D=0o162,
    LD_iHL_E=0o163,
    LD_iHL_H=0o164,
    LD_iHL_L=0o165,
    HALT=0o166,
    LD_iHL_A=0o167,
    LD_A_B=0o170,
    LD_A_C=0o171,
    LD_A_D=0o172,
    LD_A_E=0o173,
    LD_A_H=0o174,
    LD_A_L=0o175,
    LD_A_iHL=0o176,
    LD_A_A=0o177,
    ADD_A_B=0o200,
    ADD_A_C=0o201,
    ADD_A_D=0o202,
    ADD_A_E=0o203,
    ADD_A_H=0o204,
    ADD_A_L=0o205,
    ADD_A_iHL=0o206,
    ADD_A_A=0o207,
    ADC_A_B=0o210,
    ADC_A_C=0o211,
    ADC_A_D=0o212,
    ADC_A_E=0o213,
    ADC_A_H=0o214,
    ADC_A_L=0o215,
    ADC_A_iHL=0o216,
    ADC_A_A=0o217,
    SUB_A_B=0o220,
    SUB_A_C=0o221,
    SUB_A_D=0o222,
    SUB_A_E=0o223,
    SUB_A_H=0o224,
    SUB_A_L=0o225,
    SUB_A_iHL=0o226,
    SUB_A_A=0o227,
    SBC_A_B=0o230,
    SBC_A_C=0o231,
    SBC_A_D=0o232,
    SBC_A_E=0o233,
    SBC_A_H=0o234,
    SBC_A_L=0o235,
    SBC_A_iHL=0o236,
    SBC_A_A=0o237,
    AND_A_B=0o240,
    AND_A_C=0o241,
    AND_A_D=0o242,
    AND_A_E=0o243,
    AND_A_H=0o244,
    AND_A_L=0o245,
    AND_A_iHL=0o246,
    AND_A_A=0o247,
    XOR_A_B=0o250,
    XOR_A_C=0o251,
    XOR_A_D=0o252,
    XOR_A_E=0o253,
    XOR_A_H=0o254,
    XOR_A_L=0o255,
    XOR_A_iHL=0o256,
    XOR_A_A=0o257,
    OR_A_B=0o260,
    OR_A_C=0o261,
    OR_A_D=0o262,
    OR_A_E=0o263,
    OR_A_H=0o264,
    OR_A_L=0o265,
    OR_A_iHL=0o266,
    OR_A_A=0o267,
    CP_A_B=0o270,
    CP_A_C=0o271,
    CP_A_D=0o272,
    CP_A_E=0o273,
    CP_A_H=0o274,
    CP_A_L=0o275,
    CP_A_iHL=0o276,
    CP_A_A=0o277,
    RET_NZ=0o300,
    POP_BC=0o301,
    JP_NZ_A16=0o302,
    JP_A16=0o303,
    CALL_NZ_A16=0o304,
    PUSH_BC=0o305,
    ADD_A_N8=0o306,
    RST_00=0o307,
    RET_Z=0o310,
    RET=0o311,
    JP_Z_A16=0o312,
    PREFIX=0o313,
    CALL_Z_A16=0o314,
    CALL_A16=0o315,
    ADC_A_N8=0o316,
    RST_08=0o317,
    RET_NC=0o320,
    POP_DE=0o321,
    JP_NC_A16=0o322,
    EMPTY_323=0o323,
    CALL_NC_A16=0o324,
    PUSH_DE=0o325,
    SUB_A_N8=0o326,
    RST_10=0o327,
    RET_C=0o330,
    RETI=0o331,
    JP_C_A16=0o332,
    EMPTY_333=0o333,
    CALL_C_A16=0o334,
    EMPTY_335=0o335,
    SBC_A_N8=0o336,
    RST_18=0o337,
    LDH_iA8_A=0o340,
    POP_HL=0o341,
    LD_iC_A=0o342,
    EMPTY_343=0o343,
    EMPTY_344=0o344,
    PUSH_HL=0o345,
    AND_A_N8=0o346,
    RST_20=0o347,
    ADD_SP_E8=0o350,
    JP_HL=0o351,
    LD_iA16_A=0o352,
    EMPTY_353=0o353,
    EMPTY_354=0o354,
    EMPTY_355=0o355,
    XOR_A_N8=0o356,
    RST_28=0o357,
    LDH_A_iA8=0o360,
    POP_AF=0o361,
    LD_A_iC=0o362,
    DI=0o363,
    EMPTY_364=0o364,
    PUSH_AF=0o365,
    OR_A_N8=0o366,
    RST_30=0o367,
    LD_HL_SP_E8=0o370,
    LD_SP_HL=0o371,
    LD_A_iA16=0o372,
    EI=0o373,
    EMPTY_374=0o374,
    EMPTY_375=0o375,
    CP_A_N8=0o376,
    RST_38=0o377
}

pub fn get_instruction_specs_from_code(code: u8) -> Option<(Instruction,u64)>
{
    match code
    {
        0o0 => Some((Instruction::NOP, 4)),
        0o1 => Some((Instruction::LD(Operand::BC, Operand::N16), 12)),
        0o2 => Some((Instruction::LD(Operand::iBC, Operand::A), 8)),
        0o3 => Some((Instruction::INC(Operand::BC), 8)),
        0o4 => Some((Instruction::INC(Operand::B), 4)),
        0o5 => Some((Instruction::DEC(Operand::B), 4)),
        0o6 => Some((Instruction::LD(Operand::B, Operand::N8), 8)),
        0o7 => Some((Instruction::RLCA, 4)),
        0o10 => Some((Instruction::LD(Operand::A16, Operand::SP), 20)),
        0o11 => Some((Instruction::ADD(Operand::HL, Operand::BC), 8)),
        0o12 => Some((Instruction::LD(Operand::A, Operand::iBC), 8)),
        0o13 => Some((Instruction::DEC(Operand::BC), 8)),
        0o14 => Some((Instruction::INC(Operand::C), 4)),
        0o15 => Some((Instruction::DEC(Operand::C), 4)),
        0o16 => Some((Instruction::LD(Operand::C, Operand::N8), 8)),
        0o17 => Some((Instruction::RRCA, 4)),
        0o20 => Some((Instruction::STOP(Operand::N8), 4)),
        0o21 => Some((Instruction::LD(Operand::DE, Operand::N16), 12)),
        0o22 => Some((Instruction::LD(Operand::iDE, Operand::A), 8)),
        0o23 => Some((Instruction::INC(Operand::DE), 8)),
        0o24 => Some((Instruction::DEC(Operand::D), 4)),
        0o25 => Some((Instruction::DEC(Operand::D), 4)),
        0o26 => Some((Instruction::LD(Operand::D, Operand::N8), 8)),
        0o27 => Some((Instruction::RLA, 4)),
        0o30 => Some((Instruction::JR(Operand::E8), 12)),
        0o31 => Some((Instruction::ADD(Operand::HL, Operand::DE), 8)),
        0o32 => Some((Instruction::LD(Operand::A, Operand::iDE), 8)),
        0o33 => Some((Instruction::DEC(Operand::DE), 8)),
        0o34 => Some((Instruction::INC(Operand::E), 4)),
        0o35 => Some((Instruction::DEC(Operand::E), 4)),
        0o36 => Some((Instruction::LD(Operand::E, Operand::N8), 8)),
        0o37 => Some((Instruction::RRA, 4)),
        0o40 => Some((Instruction::JR_ZERO(false, Operand::E8), 12)),
        0o41 => Some((Instruction::LD(Operand::HL, Operand::N16), 12)),
        0o42 => Some((Instruction::LD(Operand::iHLPLUS, Operand::A), 8)),
        0o43 => Some((Instruction::INC(Operand::HL), 8)),
        0o44 => Some((Instruction::INC(Operand::H), 4)),
        0o45 => Some((Instruction::DEC(Operand::H), 4)),
        0o46 => Some((Instruction::LD(Operand::H, Operand::N8), 8)),
        0o47 => Some((Instruction::DAA, 4)),
        0o50 => Some((Instruction::JR_ZERO(true, Operand::E8), 12)),
        0o51 => Some((Instruction::ADD(Operand::HL, Operand::HL), 8)),
        0o52 => Some((Instruction::LD(Operand::A, Operand::iHLPLUS), 8)),
        0o53 => Some((Instruction::DEC(Operand::HL), 8)),
        0o54 => Some((Instruction::INC(Operand::L), 4)),
        0o55 => Some((Instruction::DEC(Operand::L), 4)),
        0o56 => Some((Instruction::LD(Operand::L, Operand::N8), 8)),
        0o57 => Some((Instruction::CPL, 4)),
        0o60 => Some((Instruction::JR_CARRY(false, Operand::E8), 12)),
        0o61 => Some((Instruction::LD(Operand::SP, Operand::N16), 12)),
        0o62 => Some((Instruction::LD(Operand::iHLMINUS, Operand::A), 8)),
        0o63 => Some((Instruction::INC(Operand::SP), 8)),
        0o64 => Some((Instruction::INC(Operand::iHL), 12)),
        0o65 => Some((Instruction::DEC(Operand::iHL), 12)),
        0o66 => Some((Instruction::LD(Operand::iHL, Operand::N8), 12)),
        0o67 => Some((Instruction::SCF, 4)),
        0o70 => Some((Instruction::JR_CARRY(true, Operand::E8), 12)),
        0o71 => Some((Instruction::ADD(Operand::HL, Operand::SP), 8)),
        0o72 => Some((Instruction::LD(Operand::A, Operand::iHLMINUS), 8)),
        0o73 => Some((Instruction::DEC(Operand::SP), 8)),
        0o74 => Some((Instruction::INC(Operand::A), 4)),
        0o75 => Some((Instruction::DEC(Operand::A), 4)),
        0o76 => Some((Instruction::LD(Operand::A, Operand::N8), 8)),
        0o77 => Some((Instruction::CCF, 4)),
        0o100 => Some((Instruction::LD(Operand::B, Operand::B), 4)),
        0o101 => Some((Instruction::LD(Operand::B, Operand::C), 4)),
        0o102 => Some((Instruction::LD(Operand::B, Operand::D), 4)),
        0o103 => Some((Instruction::LD(Operand::B, Operand::E), 4)),
        0o104 => Some((Instruction::LD(Operand::B, Operand::H), 4)),
        0o105 => Some((Instruction::LD(Operand::B, Operand::L), 4)),
        0o106 => Some((Instruction::LD(Operand::B, Operand::iHL), 8)),
        0o107 => Some((Instruction::LD(Operand::B, Operand::A), 4)),
        0o110 => Some((Instruction::LD(Operand::C, Operand::B), 4)),
        0o111 => Some((Instruction::LD(Operand::C, Operand::C), 4)),
        0o112 => Some((Instruction::LD(Operand::C, Operand::D), 4)),
        0o113 => Some((Instruction::LD(Operand::C, Operand::E), 4)),
        0o114 => Some((Instruction::LD(Operand::C, Operand::H), 4)),
        0o115 => Some((Instruction::LD(Operand::C, Operand::L), 4)),
        0o116 => Some((Instruction::LD(Operand::C, Operand::iHL), 8)),
        0o117 => Some((Instruction::LD(Operand::C, Operand::A), 4)),
        0o120 => Some((Instruction::LD(Operand::D, Operand::B), 4)),
        0o121 => Some((Instruction::LD(Operand::D, Operand::C), 4)),
        0o122 => Some((Instruction::LD(Operand::D, Operand::D), 4)),
        0o123 => Some((Instruction::LD(Operand::D, Operand::E), 4)),
        0o124 => Some((Instruction::LD(Operand::D, Operand::H), 4)),
        0o125 => Some((Instruction::LD(Operand::D, Operand::L), 4)),
        0o126 => Some((Instruction::LD(Operand::D, Operand::iHL), 8)),
        0o127 => Some((Instruction::LD(Operand::D, Operand::A), 4)),
        0o130 => Some((Instruction::LD(Operand::E, Operand::B), 4)),
        0o131 => Some((Instruction::LD(Operand::E, Operand::C), 4)),
        0o132 => Some((Instruction::LD(Operand::E, Operand::D), 4)),
        0o133 => Some((Instruction::LD(Operand::E, Operand::E), 4)),
        0o134 => Some((Instruction::LD(Operand::E, Operand::H), 4)),
        0o135 => Some((Instruction::LD(Operand::E, Operand::L), 4)),
        0o136 => Some((Instruction::LD(Operand::E, Operand::iHL), 8)),
        0o137 => Some((Instruction::LD(Operand::E, Operand::A), 4)),
        0o140 => Some((Instruction::LD(Operand::H, Operand::B), 4)),
        0o141 => Some((Instruction::LD(Operand::H, Operand::C), 4)),
        0o142 => Some((Instruction::LD(Operand::H, Operand::D), 4)),
        0o143 => Some((Instruction::LD(Operand::H, Operand::E), 4)),
        0o144 => Some((Instruction::LD(Operand::H, Operand::H), 4)),
        0o145 => Some((Instruction::LD(Operand::H, Operand::L), 4)),
        0o146 => Some((Instruction::LD(Operand::H, Operand::iHL), 8)),
        0o147 => Some((Instruction::LD(Operand::H, Operand::A), 4)),
        0o150 => Some((Instruction::LD(Operand::L, Operand::B), 4)),
        0o151 => Some((Instruction::LD(Operand::L, Operand::C), 4)),
        0o152 => Some((Instruction::LD(Operand::L, Operand::D), 4)),
        0o153 => Some((Instruction::LD(Operand::L, Operand::E), 4)),
        0o154 => Some((Instruction::LD(Operand::L, Operand::H), 4)),
        0o155 => Some((Instruction::LD(Operand::L, Operand::L), 4)),
        0o156 => Some((Instruction::LD(Operand::L, Operand::iHL), 8)),
        0o157 => Some((Instruction::LD(Operand::L, Operand::A), 4)),
        0o160 => Some((Instruction::LD(Operand::iHL, Operand::B), 8)),
        0o161 => Some((Instruction::LD(Operand::iHL, Operand::C), 8)),
        0o162 => Some((Instruction::LD(Operand::iHL, Operand::D), 8)),
        0o163 => Some((Instruction::LD(Operand::iHL, Operand::E), 8)),
        0o164 => Some((Instruction::LD(Operand::iHL, Operand::H), 8)),
        0o165 => Some((Instruction::LD(Operand::iHL, Operand::L), 8)),
        0o166 => Some((Instruction::HALT, 4)),
        0o167 => Some((Instruction::LD(Operand::iHL, Operand::A), 8)),
        0o170 => Some((Instruction::LD(Operand::A, Operand::B), 4)),
        0o171 => Some((Instruction::LD(Operand::A, Operand::C), 4)),
        0o172 => Some((Instruction::LD(Operand::A, Operand::D), 4)),
        0o173 => Some((Instruction::LD(Operand::A, Operand::E), 4)),
        0o174 => Some((Instruction::LD(Operand::A, Operand::H), 4)),
        0o175 => Some((Instruction::LD(Operand::A, Operand::L), 4)),
        0o176 => Some((Instruction::LD(Operand::A, Operand::iHL), 8)),
        0o177 => Some((Instruction::LD(Operand::A, Operand::A), 4)),
        0o200 => Some((Instruction::ADD(Operand::A, Operand::B), 4)),
        0o201 => Some((Instruction::ADD(Operand::A, Operand::C), 4)),
        0o202 => Some((Instruction::ADD(Operand::A, Operand::D), 4)),
        0o203 => Some((Instruction::ADD(Operand::A, Operand::E), 4)),
        0o204 => Some((Instruction::ADD(Operand::A, Operand::H), 4)),
        0o205 => Some((Instruction::ADD(Operand::A, Operand::L), 4)),
        0o206 => Some((Instruction::ADD(Operand::A, Operand::iHL), 8)),
        0o207 => Some((Instruction::ADD(Operand::A, Operand::A), 4)),
        0o210 => Some((Instruction::ADC(Operand::A, Operand::B), 4)),
        0o211 => Some((Instruction::ADC(Operand::A, Operand::C), 4)),
        0o212 => Some((Instruction::ADC(Operand::A, Operand::D), 4)),
        0o213 => Some((Instruction::ADC(Operand::A, Operand::E), 4)),
        0o214 => Some((Instruction::ADC(Operand::A, Operand::H), 4)),
        0o215 => Some((Instruction::ADC(Operand::A, Operand::L), 4)),
        0o216 => Some((Instruction::ADC(Operand::A, Operand::iHL), 8)),
        0o217 => Some((Instruction::ADC(Operand::A, Operand::A), 4)),
        0o220 => Some((Instruction::SUB(Operand::A, Operand::B), 4)),
        0o221 => Some((Instruction::SUB(Operand::A, Operand::C), 4)),
        0o222 => Some((Instruction::SUB(Operand::A, Operand::D), 4)),
        0o223 => Some((Instruction::SUB(Operand::A, Operand::E), 4)),
        0o224 => Some((Instruction::SUB(Operand::A, Operand::H), 4)),
        0o225 => Some((Instruction::SUB(Operand::A, Operand::L), 4)),
        0o226 => Some((Instruction::SUB(Operand::A, Operand::iHL), 8)),
        0o227 => Some((Instruction::SUB(Operand::A, Operand::A), 4)),
        0o230 => Some((Instruction::SBC(Operand::A, Operand::B), 4)),
        0o231 => Some((Instruction::SBC(Operand::A, Operand::C), 4)),
        0o232 => Some((Instruction::SBC(Operand::A, Operand::D), 4)),
        0o233 => Some((Instruction::SBC(Operand::A, Operand::E), 4)),
        0o234 => Some((Instruction::SBC(Operand::A, Operand::H), 4)),
        0o235 => Some((Instruction::SBC(Operand::A, Operand::L), 4)),
        0o236 => Some((Instruction::SBC(Operand::A, Operand::iHL), 8)),
        0o237 => Some((Instruction::SBC(Operand::A, Operand::A), 4)),
        0o240 => Some((Instruction::AND(Operand::A, Operand::B), 4)),
        0o241 => Some((Instruction::AND(Operand::A, Operand::C), 4)),
        0o242 => Some((Instruction::AND(Operand::A, Operand::D), 4)),
        0o243 => Some((Instruction::AND(Operand::A, Operand::E), 4)),
        0o244 => Some((Instruction::AND(Operand::A, Operand::H), 4)),
        0o245 => Some((Instruction::AND(Operand::A, Operand::L), 4)),
        0o246 => Some((Instruction::AND(Operand::A, Operand::iHL), 8)),
        0o247 => Some((Instruction::AND(Operand::A, Operand::A), 4)),
        0o250 => Some((Instruction::XOR(Operand::A, Operand::B), 4)),
        0o251 => Some((Instruction::XOR(Operand::A, Operand::C), 4)),
        0o252 => Some((Instruction::XOR(Operand::A, Operand::D), 4)),
        0o253 => Some((Instruction::XOR(Operand::A, Operand::E), 4)),
        0o254 => Some((Instruction::XOR(Operand::A, Operand::H), 4)),
        0o255 => Some((Instruction::XOR(Operand::A, Operand::L), 4)),
        0o256 => Some((Instruction::XOR(Operand::A, Operand::iHL), 8)),
        0o257 => Some((Instruction::XOR(Operand::A, Operand::A), 4)),
        0o260 => Some((Instruction::OR(Operand::A, Operand::B), 4)),
        0o261 => Some((Instruction::OR(Operand::A, Operand::C), 4)),
        0o262 => Some((Instruction::OR(Operand::A, Operand::D), 4)),
        0o263 => Some((Instruction::OR(Operand::A, Operand::E), 4)),
        0o264 => Some((Instruction::OR(Operand::A, Operand::H), 4)),
        0o265 => Some((Instruction::OR(Operand::A, Operand::L), 4)),
        0o266 => Some((Instruction::OR(Operand::A, Operand::iHL), 8)),
        0o267 => Some((Instruction::OR(Operand::A, Operand::A), 4)),
        0o270 => Some((Instruction::CP(Operand::A, Operand::B), 4)),
        0o271 => Some((Instruction::CP(Operand::A, Operand::C), 4)),
        0o272 => Some((Instruction::CP(Operand::A, Operand::D), 4)),
        0o273 => Some((Instruction::CP(Operand::A, Operand::E), 4)),
        0o274 => Some((Instruction::CP(Operand::A, Operand::H), 4)),
        0o275 => Some((Instruction::CP(Operand::A, Operand::L), 4)),
        0o276 => Some((Instruction::CP(Operand::A, Operand::iHL), 8)),
        0o277 => Some((Instruction::CP(Operand::A, Operand::A), 4)),
        0o300 => Some((Instruction::RET_ZERO(false), 8)),
        0o301 => Some((Instruction::POP(Operand::BC), 12)),
        0o302 => Some((Instruction::JR_ZERO(false, Operand::N16), 12)),
        0o303 => Some((Instruction::JR(Operand::N16), 12)),
        0o304 => Some((Instruction::CALL_ZERO(false, Operand::N16), 12)),
        0o305 => Some((Instruction::PUSH(Operand::BC), 16)),
        0o306 => Some((Instruction::ADD(Operand::A, Operand::N8), 8)),
        0o307 => Some((Instruction::RST(0x00), 16)),
        0o310 => Some((Instruction::RET_ZERO(true), 8)),
        0o311 => Some((Instruction::RET, 16)),
        0o312 => Some((Instruction::JR_ZERO(true, Operand::N16), 12)),
        0o313 => Some((Instruction::PREFIX, 8)),
        0o314 => Some((Instruction::CALL_ZERO(true, Operand::N16), 12)),
        0o315 => Some((Instruction::CALL(Operand::N16), 12)),
        0o316 => Some((Instruction::ADC(Operand::A, Operand::N8), 8)),
        0o317 => Some((Instruction::RST(0x08), 16)),
        0o320 => Some((Instruction::RET_CARRY(false), 8)),
        0o321 => Some((Instruction::POP(Operand::DE), 12)),
        0o322 => Some((Instruction::JR_CARRY(false, Operand::N16), 12)),
        0o324 => Some((Instruction::CALL_CARRY(false, Operand::N16), 12)),
        0o325 => Some((Instruction::PUSH(Operand::DE), 16)),
        0o326 => Some((Instruction::SUB(Operand::A, Operand::N8), 8)),
        0o327 => Some((Instruction::RST(0x10), 16)),
        0o330 => Some((Instruction::RET_CARRY(true), 8)),
        0o331 => Some((Instruction::RETI, 16)),
        0o332 => Some((Instruction::JR_CARRY(true, Operand::N16), 12)),
        0o334 => Some((Instruction::CALL_CARRY(true, Operand::N16), 12)),
        0o336 => Some((Instruction::SBC(Operand::A, Operand::N8), 8)),
        0o337 => Some((Instruction::RST(0x18), 16)),
        0o340 => Some((Instruction::LD(Operand::A8, Operand::A), 12)),
        0o341 => Some((Instruction::POP(Operand::HL), 12)),
        0o342 => Some((Instruction::LD(Operand::iC, Operand::A), 8)),
        0o345 => Some((Instruction::PUSH(Operand::HL), 16)),
        0o346 => Some((Instruction::AND(Operand::A, Operand::N8), 8)),
        0o347 => Some((Instruction::RST(0x20), 16)),
        0o350 => Some((Instruction::ADD(Operand::SP, Operand::E8), 16)),
        0o351 => Some((Instruction::JR(Operand::HL), 4)),
        0o352 => Some((Instruction::LD(Operand::A, Operand::A16), 12)),
        0o356 => Some((Instruction::XOR(Operand::A, Operand::N8), 8)),
        0o357 => Some((Instruction::RST(0x28), 16)),
        0o360 => Some((Instruction::LD(Operand::A8, Operand::SP), 20)),
        0o361 => Some((Instruction::POP(Operand::AF), 12)),
        0o362 => Some((Instruction::LD(Operand::A, Operand::iC), 8)),
        0o363 => Some((Instruction::DI, 4)),
        0o365 => Some((Instruction::PUSH(Operand::AF), 16)),
        0o366 => Some((Instruction::OR(Operand::A, Operand::N8), 8)),
        0o367 => Some((Instruction::RST(0x30), 16)),
        0o370 => Some((Instruction::LD(Operand::HL, Operand::SP_PLUS_E8), 12)),
        0o371 => Some((Instruction::LD(Operand::SP, Operand::HL), 8)),
        0o372 => Some((Instruction::LD(Operand::A, Operand::A16), 12)),
        0o373 => Some((Instruction::EI, 4)),
        0o376 => Some((Instruction::CP(Operand::A, Operand::N8), 8)),
        0o377 => Some((Instruction::RST(0x38), 16)),
        _ => None
    
    }
}
